{% extends 'base.html' %}
{% load static %}

{% block title %}{{ blog.title }} - Eruvaka Blogs{% endblock %}

{% block nav_blogs %}font-bold text-[#B32413]{% endblock %}

{% block content %}
<main class="flex flex-col gap-10 overflow-hidden py-5 px-10 md:py-10 md:px-20">

    <!-- Breadcrumb Navigation -->
    <section class="bg-cover rounded-2xl md:rounded-b-3xl relative" style="background-image: url('{% static "images/blogback.png" %}');">
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-wide text-[#346e49]">
                BLOG <span class="text-[#B32413]">DETAILS</span>
            </h1>

            <nav class="mt-3 flex items-center text-base md:text-lg font-medium">
                <a href="{% url 'home' %}" class="text-[#B32413] hover:underline">Home</a>
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                    <path fill="none" stroke="#7E7E7E" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                        d="m10 17l5-5l-5-5" />
                </svg>
                <a href="{% url 'blog-list' %}" class="text-[#B32413] hover:underline">Blogs</a>
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                    <path fill="none" stroke="#7E7E7E" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                        d="m10 17l5-5l-5-5" />
                </svg>
                <span class="text-[#585858]">{{ blog.title|truncatewords:5 }}</span>
            </nav>
        </div>
    </section>

    <!-- Blog Content Section -->
    <article class="max-w-4xl mx-auto w-full">
        <!-- Blog Header -->
        <div class="mb-8">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-[#346e49] mb-4">
                {{ blog.title }}
            </h1>
            
            <div class="flex flex-wrap items-center gap-4 text-sm md:text-base text-gray-600">
                <div class="flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24">
                        <path fill="#346e49" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"/>
                    </svg>
                    <span>By <strong class="text-[#B32413]">{{ blog.author.name }}</strong></span>
                </div>
                
                <div class="flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24">
                        <path fill="#346e49" d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM5 8V6h14v2z"/>
                    </svg>
                    <span>{{ blog.created_at|date:"F d, Y" }}</span>
                </div>
                
                <div class="flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24">
                        <path fill="#346e49" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2m4.2 14.2L11 13V7h1.5v5.2l4.5 2.7z"/>
                    </svg>
                    <span>{{ blog.created_at|time:"g:i A" }}</span>
                </div>
            </div>
        </div>

        <!-- Featured Image -->
        {% if blog.image %}
        <div class="mb-8 rounded-2xl overflow-hidden shadow-lg">
            <img class="w-full h-96 object-cover" src="{{ blog.image.url }}" alt="{{ blog.title }}">
        </div>
        {% endif %}

        <!-- Blog Content -->
        <div class="prose prose-lg max-w-none">
            <div class="text-gray-700 leading-relaxed text-base md:text-lg whitespace-pre-line">
                {{ blog.content }}
            </div>
        </div>

        <!-- Blog Footer -->
        <div class="mt-12 pt-8 border-t border-gray-200">
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                <div class="text-sm text-gray-500">
                    Last updated: {{ blog.updated_at|date:"F d, Y" }} at {{ blog.updated_at|time:"g:i A" }}
                </div>
                

            </div>
        </div>

        <!-- Back to Blogs Button -->
        <div class="mt-8 flex justify-center">
            <a href="{% url 'blog-list' %}" class="inline-flex items-center px-6 py-3 bg-[#B32413] text-white font-semibold rounded-lg hover:bg-[#8b1c0f] transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24" class="mr-2">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7l7-7"/>
                </svg>
                Back to All Blogs
            </a>
        </div>
    </article>

    <!-- Related Blogs Section (Optional) -->
    <section class="mt-16 max-w-7xl mx-auto w-full">
        <div class="mb-8">
            <p class="text-base font-medium tracking-widest uppercase text-gray-400">More from Eruvaka</p>
            <h2 class="text-3xl md:text-4xl font-extrabold uppercase mt-1 text-[#346e49]">
                Related <span class="text-[#B32413]">Blogs</span>
            </h2>
        </div>

        <!-- You can add related blogs here in the future -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Related blog cards will go here -->
        </div>
    </section>

</main>
{% endblock %}
