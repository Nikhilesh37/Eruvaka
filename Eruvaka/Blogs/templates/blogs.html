{% extends 'base.html' %}
{% load static %}

{% block title %}Eruvaka - Blogs & News{% endblock %}

{% block nav_blogs %}font-bold text-[#B32413]{% endblock %}

{% block content %}
<main class="flex flex-col gap-15 overflow-hidden py-5 px-10 md:py-10 md:px-20">

    <!-- Hero Section -->
    <section class="bg-cover rounded-2xl md:rounded-b-3xl relative" style="background-image: url('{% static "images/blogback.png" %}');">
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-wide text-[#346e49]">
                BLOGS <span class="text-[#B32413]">&</span> NEWS
            </h1>

            <nav class="mt-3 flex items-center text-base md:text-lg font-medium">
                <a href="{% url 'home' %}" class="text-[#B32413] hover:underline">Home </a>
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                    <path fill="none" stroke="#7E7E7E" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                        d="m10 17l5-5l-5-5" />
                </svg>
                <span class="text-[#585858]">Blogs</span>
            </nav>
        </div>
    </section>

    <!-- Blogs Section -->
    <section class="flex flex-col gap-6">
        <div>
            <p class="text-base font-medium tracking-widest uppercase text-gray-400">Blogs</p>
            <h2 class="text-3xl md:text-4xl font-extrabold uppercase mt-1 text-[#346e49]">Flavor Talks By <span
                    class="text-[#B32413]">Eruvaka</span></h2>
        </div>

        <!-- Blog Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% if blogs %}
                {% for blog in blogs %}
                <!-- Blog Card -->
                <a href="{% url 'blog-detail' blog.slug %}" class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col hover:shadow-xl transition-shadow duration-300 cursor-pointer">
                    {% if blog.image %}
                        <img class="w-full h-56 object-cover" src="{{ blog.image.url }}" alt="{{ blog.title }}">
                    {% else %}
                        <img class="w-full h-56 object-cover" src="{% static 'images/power of red chilli.png' %}" alt="{{ blog.title }}">
                    {% endif %}
                    
                    <div class="p-4 flex flex-col flex-grow">
                        <p class="text-sm text-gray-500">By {{ blog.author.name }}</p>
                        <h3 class="text-xl font-bold uppercase text-[#B32413] mt-1">
                            {{ blog.title }}
                        </h3>
                        <p class="text-gray-600 text-base mt-2 flex-grow">
                            {% if blog.excerpt %}
                                {{ blog.excerpt }}
                            {% else %}
                                {{ blog.content|truncatewords:30 }}
                            {% endif %}
                        </p>
                        <p class="mt-4 text-sm text-[#346e49] font-semibold">
                            {{ blog.created_at|date:"M d, Y" }} â€“ {{ blog.created_at|time:"g:i A" }}
                        </p>
                    </div>
                </a>
                {% endfor %}
            {% else %}
                <!-- No Blogs Message -->
                <div class="col-span-full text-center py-12">
                    <p class="text-2xl text-gray-500">No blogs available yet. Check back soon!</p>
                </div>
            {% endif %}
        </div>

       
</main>

{% endblock %}